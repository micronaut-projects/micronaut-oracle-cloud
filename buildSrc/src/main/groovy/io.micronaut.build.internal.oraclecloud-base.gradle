plugins {
    id 'io.micronaut.build.internal.dependency-updates'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation libs.jakarta.inject
    testImplementation mn.micronaut.test.junit5
    testRuntimeOnly libs.junit.jupiter
    testAnnotationProcessor mn.micronaut.inject.java
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.compilerArgs.addAll([
            '-parameters',
            // enables incremental compilation
            '-Amicronaut.processing.incremental=true',
            '-Amicronaut.processing.annotations=io.micronaut.oraclecloud.*',
            "-Amicronaut.processing.group=$project.group",
            "-Amicronaut.processing.module=$project.name",
    ])
}

configurations.all {
    resolutionStrategy.dependencySubstitution {
        substitute(module('commons-logging:commons-logging'))
                .using(module('org.slf4j:jcl-over-slf4j:1.7.32'))
    }
}
