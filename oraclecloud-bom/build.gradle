plugins {
    id("io.micronaut.build.internal.bom")
    id("io.micronaut.build.internal.oraclecloud-bom")
}

dependencies {
    constraints {
        for (name in gradle.ociArtifacts) {
            api "com.oracle.oci.sdk:$name:$gradle.ociVersion"
        }

        for (module in ['api', 'runtime', 'testing-junit4']) {
            api "com.fnproject.fn:$module:${libs.fn.api.get().version}"
        }
    }
}

micronautBom {
    suppressions {
        // 3.0.3 and 3.0.4 versions of oci http netty client were built with some different version of oci-sdk instead of 3.15.0.
        acceptedLibraryRegressions.add("micronaut-oraclecloud-bmc-fleetsoftwareupdate")
        acceptedLibraryRegressions.add("micronaut-oraclecloud-bmc-osmanagementhub")
        acceptedLibraryRegressions.add("micronaut-oraclecloud-bmc-ocicontrolcenter")
        acceptedLibraryRegressions.add("micronaut-oraclecloud-bmc-computecloudatcustomer")
    }
}
