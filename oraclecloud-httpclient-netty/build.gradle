plugins {
    id 'io.micronaut.build.internal.oraclecloud-module'
}

repositories {
    mavenCentral()
    maven {
        url = "https://s01.oss.sonatype.org/content/repositories/snapshots"
    }
}

dependencies {
    implementation("io.netty:netty-codec-http")
    implementation("com.oracle.oci.sdk:oci-java-sdk-common:$oci3Version")
    api("com.oracle.oci.sdk:oci-java-sdk-common-httpclient:$oci3Version")
    api mn.micronaut.serde.api
    implementation mn.micronaut.serde.support

    testImplementation("io.micronaut:micronaut-http-server-netty")
    // for self-signed certs
    testImplementation("org.bouncycastle:bcpkix-jdk15on:1.70")
    testImplementation(projects.oraclecloudSdk) {
        exclude group: 'com.oracle.oci.sdk'
    }

    testAnnotationProcessor mn.micronaut.inject.java
    testAnnotationProcessor projects.oraclecloudSerdeProcessor

    testImplementation mn.micronaut.inject.java.test
    testImplementation mn.micronaut.serde.api
    testImplementation mn.micronaut.serde.processor
    testImplementation mn.micronaut.serde.jackson
    testImplementation projects.oraclecloudSerdeProcessor
    testImplementation mn.micronaut.management

    testImplementation (projects.oraclecloudBmcMonitoring) {
        transitive = false
    }
}

micronautBuild {
    binaryCompatibility.enabled = false
}
