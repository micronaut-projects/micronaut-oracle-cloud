plugins {
    id "io.micronaut.application"
}

dependencies {
    implementation "io.micronaut:micronaut-http-server-netty"
    implementation project(":oci-sdk")
    implementation "com.oracle.oci.sdk:oci-java-sdk-objectstorage"
    implementation "com.oracle.oci.sdk:oci-java-sdk-database"
    compileOnly "org.graalvm.nativeimage:svm:20.1.0"
    runtimeOnly("ch.qos.logback:logback-classic")

    testImplementation "io.micronaut:micronaut-http-client"
    testImplementation("io.micronaut.test:micronaut-test-junit5")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine")
    testAnnotationProcessor "io.micronaut:micronaut-inject-java"
}

mainClassName = "example.Application"

nativeImage {
    args('--report-unsupported-elements-at-runtime', '--no-fallback', '--no-server', '--rerun-class-initialization-at-runtime=org.bouncycastle.jcajce.provider.drbg.DRBG$Default,org.bouncycastle.jcajce.provider.drbg.DRBG$NonceAndIV')
}